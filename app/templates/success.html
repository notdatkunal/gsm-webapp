<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Payment Success</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid vh-100 d-flex align-items-center justify-content-center bg-light">
        <div class="card p-4">
            <h1 class="text-success mb-4">Payment Successful!</h1>
            <p>Your payment was processed successfully.</p>
            <p>Order ID: <strong id="orderID"></strong></p>
            <p>Product ID: <strong id="paymentID"></strong></p>

            <a href="/app/dashboard/" id="backToAccountBtn" class="btn btn-success mt-4">Back To Home</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script>
        const backToAccountBtn = document.getElementById('backToAccountBtn');
        const loader = document.getElementById('loader');

        backToAccountBtn.addEventListener('click', function () {
            loader.style.display = 'block';
        });
        window.addEventListener('beforeunload', function () {
            loader.style.display = 'block';
        });

        document.addEventListener('DOMContentLoaded', function () {
            const orderId = localStorage.getItem('razorpay_order_id');
            const paymentId = localStorage.getItem('razorpay_payment_id');

            // Display the information in your HTML elements
            if (orderId && paymentId) {
                document.getElementById('orderID').textContent = orderId;
                document.getElementById('paymentID').textContent = paymentId;

                // Clear localStorage to avoid displaying it on subsequent visits
                localStorage.removeItem('razorpay_order_id');
                localStorage.removeItem('razorpay_payment_id');
            }
        });
    </script>
</body>
</html>
