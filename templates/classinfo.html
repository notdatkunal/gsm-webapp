{% extends "index.html" %}
{% load static %}
{% block css %}
<title>Classes</title>
{% endblock css %}
{% block content %}

<div class="student_head">
    <div class="nav-head">
        <a href="{% url 'classes' %}" class="arrow-back"> <i class="fa-solid fa-arrow-left"></i></a>
        <p class="heading__primary">{{class_name}}</p>
    </div>
</div>

<section class="form-section addSection">
    <div class="main-header">
        <h1 class="header-form">Add New Section</h1>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav('addSection')">&times;</a>
    </div>
    <div class="container">
        <form id="AddSection" name="form" class="form" action="#" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="contents" id="form-field">
                <div class="fields">
                    <div class="input-field">
                        <input type="hidden" id="section_id" name="section_id">
                        <input type="hidden" id="class_id" value={{class_id}} name="class_id">
                        <label class="labels">Section Name <span>*</span></label>
                        <input class="form-input" type="text" id="section_name" name="section_name" placeholder="Enter a New Section Name" required minlength="3">
                    </div>
                    
                </div>
                </div> 
                <div class="sticky">
                    <a onclick="closeNav('addSection')" class="btn btn--cancel"><label>Cancel</label> </a>
                    <button class="btn btn--save">Save</button>   
                  </div>
        </form>
     </div> 
</section>

<section class="form-section addSubject">
    <div class="main-header">
        <h1 class="header-form">Add New Subject</h1>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav('addSubject')">&times;</a>
    </div>
    <div class="container">
        <form id="AddSubject" name="form" class="form" action="#" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="contents" id="form-field">
                <div class="fields">
                    <div class="input-field">
                        <input type="hidden" id="subject_id" name="subject_id">
                        <input type="hidden" id="classes_id" value={{class_id}} name="class_id">
                        <label class="labels">Name of the Subject <span>*</span></label>
                        <input class="form-input" type="text" id="subject_name" name="subject_name" placeholder="Enter the Subject Name" required minlength="3">
                    </div>
                    
                </div>
                </div> 
                <div class="sticky">
                    <a onclick="closeNav('addSubject')" class="btn btn--cancel"><label>Cancel</label> </a>
                    <button class="btn btn--save">Save</button>   
                  </div>
        </form>
     </div> 
</section>

<div class="main-content">
    <div class="main-tab" id="class_details">
        <div class="tab">
          <button class="tablinks active" id="One">Section</button>
            <button class="tablinks" id="Two">Subjects</button>
            <button class="tablinks" id="Three">Calender</button>
            <button class="tablinks" id="Four">Students</button>
            <button class="tablinks" id="Five">Examination</button>
            <button class="tablinks" id="Six">Grading</button>
            <button class="tablinks" id="Seven">Fees</button>
          </div>
    </div> 
    <div id="One" class="tabcontent">
        <div class="content-section">
            <div class="student_head">
                <div>
                    <p class="heading__primary">Section</p>
                </div>
            </div>
            <div class="input-group">
                <button class="btn btn--create" onclick="openForm('addSection')">
                    <i class="fa-solid fa-circle-plus"></i> Add New Section
                </button>
            </div>
        </div>
    
        <div id="TabSection">
                {% for section in section_data %}        
                    <div class="section1" id="section-{{section.section_id}}">
                        <div class="section2">
                            <input type="hidden" id="pk">
                            <div class="section3" id="section-name-{{section.section_id}}"> 
                                {{ section.section_name }}
                            </div>
    
                            <div class="actions">
                                <a href="#" onclick="EditSection(this)" data-section-id={{section.section_id}}><i class="fa-sharp fa-solid fa-pen"></i></a>
                                <a href="#" onclick="DeleteSection(this)" data-section-id={{section.section_id}}><i class="fa-solid fa-trash"></i></a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
                <div id="emptyImage" style="display:none;">
                    {% comment %} <img src="{% static 'img/noRecords.png' %}" alt="Empty Image"> {% endcomment %}
                </div>
        </div>
    </div>
    
       
    <div id="Two" class="tabcontent">
        <div class="content-section">
            <div class="student_head">
              <div>
                  <p class="heading__primary">Subjects</p>
              </div>
          </div>
          <div class="input-group">
                  <button class="btn btn--create" onclick="openForm('addSubject')"><i class="fa-solid fa-circle-plus"></i> Add New Subject</button>
           </div>
        </div>
           <div id="TabSubjects">
            {% for sub in subject_data %}
            <div class="section1" id="subject-{{sub.subject_id}}">
              <div class="section2">
                <input type="hidden" id="pk">
                                  <div class="section3" id="subject-name-{{sub.subject_id}}"> 
                                     {{sub.subject_name}}
                                </div>
      
                <div class="actions">
                  <a href="#" onclick="EditSubject(this)" data-sub-id={{sub.subject_id}}><i class="fa-sharp fa-solid fa-pen"></i></a>
                  <a href="#" onclick="DeleteSubject(this)" data-sub-id={{sub.subject_id}}><i class="fa-solid fa-trash"></i></a>
              </div>
              </div>
            </div>
            {% endfor %}
           </div> 
           <div id="emptyImage" style="display: none;">
            {% comment %} <img src="{% static 'img/noRecords.png' %}" alt="Empty Image"> {% endcomment %}
           </div>    
        </div>
    <div id="Three" class="tabcontent">
        Section A
    </div>
    <div id="Four" class="tabcontent">
        <div class="content-section">
            <div class="student_head">
              <div>
                  <p class="heading__primary">Students</p>
              </div>
          </div>
        </div>
        <div>
            <table class="tbl">
                <th>Photo</th>
                <th>Student Name</th>
                <th>Roll Number</th>
                <th>class</th>
                <th>Section</th>
                <th>Gender</th>
                <th>Blood Group</th>
                <th>Action</th>
        
                <tbody class="tbl__bdy">
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Haritha</td>
                        <td>101</td>
                        <td>8 class</td>
                        <td>Section A</td>
                        <td>Female</td>
                        <td>B +ve</td>
        
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
        
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Fasi</td>
                        <td>102</td>
                        <td>9 class</td>
                        <td>SectionB</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>krishna</td>
                        <td>103</td>
                        <td>10 class</td>
                        <td>sectionC</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
        
                </tbody>
            </table>
        </div>     
    </div>
    <div id="Five" class="tabcontent">
        <div class="content-section">
            <div class="student_head">
              <div>
                  <p class="heading__primary">Examination</p>
              </div>
          </div>
          <div class="input-group">
                  <button class="btn btn--create" onclick="openForm()"><i class="fa-solid fa-circle-plus"></i> Add New Examination</button>
           </div>
        </div>
        <div>
            <div style="display: flex; justify-content: center;padding-bottom: 5px;font-size:2rem;">Upcoming Exams</div>
            <table class="tbl">
                <th>Photo</th>
                <th>Student Name</th>
                <th>Roll Number</th>
                <th>class</th>
                <th>Section</th>
                <th>Gender</th>
                <th>Blood Group</th>
                <th>Action</th>
        
                <tbody class="tbl__bdy">
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Haritha</td>
                        <td>101</td>
                        <td>8 class</td>
                        <td>Section A</td>
                        <td>Female</td>
                        <td>B +ve</td>
        
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
        
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Fasi</td>
                        <td>102</td>
                        <td>9 class</td>
                        <td>SectionB</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>krishna</td>
                        <td>103</td>
                        <td>10 class</td>
                        <td>sectionC</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
        
                </tbody>
            </table>
            <div style="display: flex; justify-content: center;padding-bottom: 5px;padding-top: 5px;font-size:2rem;">Past Exams</div>
            <table class="tbl">
                <th>Photo</th>
                <th>Student Name</th>
                <th>Roll Number</th>
                <th>class</th>
                <th>Section</th>
                <th>Gender</th>
                <th>Blood Group</th>
                <th>Action</th>
        
                <tbody class="tbl__bdy">
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Haritha</td>
                        <td>101</td>
                        <td>8 class</td>
                        <td>Section A</td>
                        <td>Female</td>
                        <td>B +ve</td>
        
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
        
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>Fasi</td>
                        <td>102</td>
                        <td>9 class</td>
                        <td>SectionB</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
                    <tr>
                        <td> <img src="{% static 'img/profile.png' %}" class="imgstaff" alt=""></td>
                        <td>krishna</td>
                        <td>103</td>
                        <td>10 class</td>
                        <td>sectionC</td>
                        <td>male</td>
                        <td>B +ve</td>
                        <td>
                            <i class="fa-sharp fa-solid fa-pen"></i>
        
                            <i class="fa-solid fa-trash"></i>
                        </td>
                    </tr>
        
                </tbody>
            </table>
        </div>    
    </div>
    <div id="Six" class="tabcontent">
        <div class="content-section">
            <div class="student_head">
              <div>
                  <p class="heading__primary">Gradings</p>
              </div>
          </div>
          <div class="input-group">
                  <button class="btn btn--create" onclick="openForm()"><i class="fa-solid fa-circle-plus"></i> Add New Grade</button>
           </div>
        </div>
           <div id="TabGrade">
            <div class="section1">
              <div class="section2">
                <input type="hidden" id="pk">
                                  <div class="section3" id="subject-name-"> 
                                     <p>80% - 90%</p>
                                </div>
                <div class="line-section"><hr></div>
                <div class="section4" id="grd_name">
                    A+
                  </div>
                <div class="actions">
                  <a href="#"><i class="fa-sharp fa-solid fa-pen"></i></a>
                  <a href="#"><i class="fa-solid fa-trash"></i></a>
              </div>
              </div>
            </div>
            <div class="section1">
                <div class="section2">
                  <input type="hidden" id="pk">
                                    <div class="section3" id="subject-name-"> 
                                       <p>60% - 70%</p>
                                  </div>
                  <div class="line-section"><hr></div>
                  <div class="section4" id="grd_name">
                      B+
                    </div>
                  <div class="actions">
                    <a href="#"><i class="fa-sharp fa-solid fa-pen"></i></a>
                    <a href="#"><i class="fa-solid fa-trash"></i></a>
                </div>
                </div>
              </div>
           </div> 
           <div id="emptyImage" style="display: none;">
            {% comment %} <img src="{% static 'img/noRecords.png' %}" alt="Empty Image"> {% endcomment %}
           </div>   
    </div>
    <div id="Seven" class="tabcontent">
        Section A
    </div>     
</div>

<script>
    const buttonElement = document.querySelectorAll('.tablinks');
    const tabContent = document.querySelectorAll(".tabcontent");
    
    tabContent[0].style.display = "block";
    
    buttonElement.forEach(function (i) {
        i.addEventListener('click', function (event) {
    
            for (let x = 0; x < buttonElement.length; x++) {
                if (event.target.id == buttonElement[x].id) {
                    buttonElement[x].className = buttonElement[x].className.replace(" active", "");
                    tabContent[x].style.display = "block";
                    event.currentTarget.className += " active";
                } else {
                    tabContent[x].style.display = "none";
                    buttonElement[x].className = buttonElement[x].className.replace(" active", "");
                }
            }
            
        });
    });

      // Function to close the form section
      function closeNav(formClass) {
        console.log("done");
        document.querySelector("." + formClass).classList.remove("form-show");
    }

    // Function to open the form section
    function openForm(formClass) {
        document.querySelector("." + formClass).classList.add("form-show");
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    {% comment %} _____Section_____ {% endcomment %}

    let isEditMode = false;

    document.getElementById('AddSection').addEventListener('submit', function(event) {
    event.preventDefault();
   
    const formData = new FormData(document.getElementById('AddSection'));
    const data = {
        "institute_id":1, 
        "section_id" : formData.get("section_id"),
        "section_name" : formData.get("section_name"),
        "class_id": formData.get("class_id"),
        "is_deleted":false,
    };

    console.log("data from form:", data);
   
    
    console.log("create update check id",data.section_id)
    const url = isEditMode ? `https://gsm-fastapi.azurewebsites.net/Sections/update_section_id/${data.section_id}` : 'https://gsm-fastapi.azurewebsites.net/Sections/create_section/';
    console.log(url)
    const method = isEditMode ? 'PUT' : 'POST';
    console.log(method)
    fetch(url, {
        method: method,
       
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok.');
        }
        return response.json();
    })
    .then(data => {
       
        if (isEditMode) { 
                // Update the existing card dynamically
                const updateData = data["response"];
                const updatedCard = document.querySelector(`#section-${updateData.section_id}`);
                updatedCard.querySelector('.section3').textContent = updateData.section_name;

            Swal.fire({
                icon: 'success',
                title: 'Section Updated Successfully!',
                position: 'top-end',
                toast: true,
                showConfirmButton: false,
                timer: 4000,
                padding: '1rem',
                customClass: {
                    title: 'small-title',
                },
            });
            closeNav('addSection');
            document.getElementById('AddSection').reset();
            isEditMode = false;
        }
        else {
            const newSectionData = data["response"];
            
            Swal.fire({
                icon: 'success',
                title: 'Section added successfully!',
                position: 'top-end',
                toast: true,
                showConfirmButton: false,
                timer: 4000,
                padding: '1rem',
                customClass: {
                    title: 'small-title',
                },
            });
            // Create a new card with the class details
           
           var newCard= `
           <div class="section1" id="section-${newSectionData.section_id}">
            <div class="section2">
                <input type="hidden" id="pk">
                <div class="section3" id="section-name-${newSectionData.section_id}"> 
                    ${newSectionData.section_name}
                </div>

                <div class="actions">
                    <a href="#" onclick="EditSection(this)" data-section-id=${newSectionData.section_id}><i class="fa-sharp fa-solid fa-pen"></i></a>
                    <a href="#" onclick="DeleteSection(this)" data-section-id=${newSectionData.section_id}><i class="fa-solid fa-trash"></i></a>
                </div>
            </div>
        </div>
            `;
    
            // Append the new card to the main-content container
            $("#TabSection").append(newCard);
            document.getElementById('AddSection').reset();
            closeNav('addSection');
            isEditMode = false;
        }
    })
    .catch(error => {
        console.log('Upgrade error:', error); 
        
    });
    });



    function EditSection(element){
        event.preventDefault();
            
        const sectionId = element.getAttribute('data-section-id');
        console.log(" each id", sectionId)
        const url = `https://gsm-fastapi.azurewebsites.net/Sections/section_id/?section_id=${sectionId}`;

        fetch(url, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok.');
            }
            return response.json();
        })
        .then(data => {
            console.log('Data received from API:', data);
            openForm('addSection');
            response = data["response"]
            
            document.getElementById("section_id").value = response.section_id;
            document.getElementById("section_name").value = response.section_name;

            isEditMode = true;
        })
        .catch(error => {
            console.log('Fetch error:', error);
        });
    }

    function DeleteSection(element) {
        event.preventDefault();
    
        const section_id = element.getAttribute('data-section-id');
        
        // Show confirmation dialog using SweetAlert
        Swal.fire({
            title: 'Are you sure you want to delete this Section?',
            text: "This action cannot be undone.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Delete'
        }).then((result) => {
            if (result.isConfirmed) {
                // User confirmed, proceed with deletion
                const url = `https://gsm-fastapi.azurewebsites.net/Sections/delete_section_id/${section_id}`;
    
                fetch(url, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok.');
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Data Deleted from API:', data);
    
                        const DeleteCard = document.getElementById(`section-${section_id}`);
                        if (DeleteCard) {
                            // Remove the deleted card from the DOM
                            DeleteCard.remove();
                            // Show success message using SweetAlert
                            Swal.fire({
                                position: 'top-end',
                                icon: 'success',
                                title: 'Section Deleted Successfully',
                                toast: true,
                                showConfirmButton: false,
                                timer: 4000,
                                timerProgressBar: true,
                                customClass: {
                                    popup: 'small-sweetalert',
                                    title: 'small-sweetalert-title',
                                    content: 'small-sweetalert-content'
                                }
                            });
                            isEditMode = true;
                        } else {
                            console.log('Card not found!');
                        }
    
                    })
                    .catch(error => {
                        console.log('Fetch error:', error);
                    });
            }
        });
    }
    
    {% comment %} _____Subject_____ {% endcomment %}
    let isEditModes = false;

    document.getElementById('AddSubject').addEventListener('submit', function(event) {
    event.preventDefault();
    const formData = new FormData(document.getElementById('AddSubject'));
    const data = {
        "institute_id":1, 
        "subject_id" : formData.get("subject_id"),
        "subject_name" : formData.get("subject_name"),
        "class_id": formData.get("class_id"),
        "is_deleted":false,
    };

    console.log("data from form:", data);
   
    
    console.log("create update check id",data.subject_id)
    const url = isEditModes ? `https://gsm-fastapi.azurewebsites.net/Subjects/update_subject_id/${data.subject_id}` : 'https://gsm-fastapi.azurewebsites.net/Subjects/create_subject/';
    console.log(url)
    const method = isEditModes ? 'PUT' : 'POST';
    console.log(method)
    fetch(url, {
        method: method,
       
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok.');
        }
        return response.json();
    })
    .then(data => {
       
        if (isEditModes) { 
                // Update the existing card dynamically
                const updateData = data["response"];
                const updatedCards = document.querySelector(`#subject-${updateData.subject_id}`);
                updatedCards.querySelector('.section3').textContent = updateData.subject_name;

            Swal.fire({
                icon: 'success',
                title: 'Subject Updated Successfully!',
                position: 'top-end',
                toast: true,
                showConfirmButton: false,
                timer: 4000,
                padding: '1rem',
                customClass: {
                    title: 'small-title',
                },
            });
            closeNav('addSubject');
            document.getElementById('AddSubject').reset();
            isEditModes = false;
        }
        else {
            const newSubjectData = data["response"];
            
            Swal.fire({
                icon: 'success',
                title: 'Subject added successfully!',
                position: 'top-end',
                toast: true,
                showConfirmButton: false,
                timer: 4000,
                padding: '1rem',
                customClass: {
                    title: 'small-title',
                },
            });
            // Create a new card with the class details
           
           var newDiv= `
           <div class="section1" id="subject-${newSubjectData.subject_id}">
            <div class="section2">
              <input type="hidden" id="pk">
                                <div class="section3" id="subject-name-${newSubjectData.subject_id}"> 
                                   ${newSubjectData.subject_name}
                              </div>
    
              <div class="actions">
                <a href="#" onclick="EditSubject(this)" data-sub-id=${newSubjectData.subject_id}><i class="fa-sharp fa-solid fa-pen"></i></a>
                <a href="#" onclick="DeleteSubject(this)" data-sub-id=${newSubjectData.subject_id}><i class="fa-solid fa-trash"></i></a>
            </div>
            </div>
          </div>
            `;
    
            // Append the new card to the main-content container
            $("#TabSubjects").append(newDiv);
            document.getElementById('AddSubject').reset();
            closeNav('addSubject');
            isEditModes = false;
        }
    })
    .catch(error => {
        console.log('Upgrade error:', error); 
        
    });
    }); 


    
    function EditSubject(element){
        event.preventDefault();
            
        const subjectId = element.getAttribute('data-sub-id');
        console.log(" each id", subjectId)
        const url = `https://gsm-fastapi.azurewebsites.net/Subjects/subject_id/?subject_id=${subjectId}`;

        fetch(url, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok.');
            }
            return response.json();
        })
        .then(data => {
            console.log('Data received from API:', data);
            openForm('addSubject');
            response = data["response"]
            
            document.getElementById("subject_id").value = response.subject_id;
            document.getElementById("subject_name").value = response.subject_name;

            isEditModes = true;
        })
        .catch(error => {
            console.log('Fetch error:', error);
        });
    }
 
    function DeleteSubject(element) {
        event.preventDefault();
    
        const subject_Id = element.getAttribute('data-sub-id');
        
        // Show confirmation dialog using SweetAlert
        Swal.fire({
            title: 'Are you sure you want to delete this Subject?',
            text: "This action cannot be undone.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Delete'
        }).then((result) => {
            if (result.isConfirmed) {
                // User confirmed, proceed with deletion
                const url = `https://gsm-fastapi.azurewebsites.net/Subjects/delete_subject_id/${subject_Id}`;
    
                fetch(url, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok.');
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Data Deleted from API:', data);
    
                        const DeleteCard = document.getElementById(`subject-${subject_Id}`);
                        if (DeleteCard) {
                            // Remove the deleted card from the DOM
                            DeleteCard.remove();
                            // Show success message using SweetAlert
                            Swal.fire({
                                position: 'top-end',
                                icon: 'success',
                                title: 'Subject Deleted Successfully',
                                toast: true,
                                showConfirmButton: false,
                                timer: 4000,
                                timerProgressBar: true,
                                customClass: {
                                    popup: 'small-sweetalert',
                                    title: 'small-sweetalert-title',
                                    content: 'small-sweetalert-content'
                                }
                            });
                            isEditModes = true;
                        } else {
                            console.log('Card not found!');
                        }
    
                    })
                    .catch(error => {
                        console.log('Fetch error:', error);
                    });
            }
        });
    } 
</script>

{% endblock %}